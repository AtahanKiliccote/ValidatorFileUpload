{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kilic\\\\sampleAmplify\\\\amplify-s3\\\\src\\\\index.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { configureAmplify, SetS3Config } from \"./services\";\nimport Storage from \"@aws-amplify/storage\";\nimport \"./index.css\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imageName: \"\",\n      imageFile: \"\",\n      response: \"\"\n    };\n\n    this.uploadImage = () => {\n      SetS3Config(\"validator-bucket-amplify\", \"protected\");\n      Storage.put(`userimages/${this.upload.files[0].name}`, this.upload.files[0], {\n        contentType: this.upload.files[0].type\n      }).then(result => {\n        this.upload = null;\n        this.setState({\n          response: \"Success uploading file!\"\n        });\n      }); //.catch(err => {\n      //  this.setState({ response: `Cannot uploading file: ${err}` });\n      //});\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, \"Upload Image to Validator-bucket-amplify S3 Bucket\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      accept: \"image/png, image/jpeg\",\n      style: {\n        display: \"none\"\n      },\n      ref: ref => this.upload = ref,\n      onChange: e => this.setState({\n        imageFile: this.upload.files[0],\n        imageName: this.upload.files[0].name\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.imageName,\n      placeholder: \"Select file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.upload.value = null;\n        this.upload.click();\n      },\n      loading: this.state.uploading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, \"Browse\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.uploadImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, \" Upload File \"), !!this.state.response && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 35\n      }\n    }, this.state.response));\n  }\n\n}\n\nconfigureAmplify();\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 17\n  }\n}), rootElement);","map":{"version":3,"sources":["C:/Users/kilic/sampleAmplify/amplify-s3/src/index.js"],"names":["React","Component","ReactDOM","configureAmplify","SetS3Config","Storage","App","state","imageName","imageFile","response","uploadImage","put","upload","files","name","contentType","type","then","result","setState","render","display","ref","e","value","click","uploading","rootElement","document","getElementById"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,YAA9C;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAO,aAAP;;AAEA,MAAMC,GAAN,SAAkBL,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAC1BM,KAD0B,GAClB;AACNC,MAAAA,SAAS,EAAE,EADL;AAENC,MAAAA,SAAS,EAAE,EAFL;AAGNC,MAAAA,QAAQ,EAAE;AAHJ,KADkB;;AAAA,SAO1BC,WAP0B,GAOZ,MAAM;AAClBP,MAAAA,WAAW,CAAC,0BAAD,EAA6B,WAA7B,CAAX;AACAC,MAAAA,OAAO,CAACO,GAAR,CAAa,cAAa,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBC,IAAK,EAApD,EACY,KAAKF,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CADZ,EAEY;AAAEE,QAAAA,WAAW,EAAE,KAAKH,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBG;AAApC,OAFZ,EAGGC,IAHH,CAGQC,MAAM,IAAI;AACd,aAAKN,MAAL,GAAc,IAAd;AACA,aAAKO,QAAL,CAAc;AAAEV,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACD,OANH,EAFkB,CAShB;AACA;AACA;AACH,KAnByB;AAAA;;AAqB1BW,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,MAAM,EAAC,uBAFT;AAGE,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAHT;AAIE,MAAA,GAAG,EAAEC,GAAG,IAAK,KAAKV,MAAL,GAAcU,GAJ7B;AAKE,MAAA,QAAQ,EAAEC,CAAC,IACT,KAAKJ,QAAL,CAAc;AACZX,QAAAA,SAAS,EAAE,KAAKI,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CADC;AAEZN,QAAAA,SAAS,EAAE,KAAKK,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBC;AAFpB,OAAd,CANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAcE;AAAO,MAAA,KAAK,EAAE,KAAKR,KAAL,CAAWC,SAAzB;AAAoC,MAAA,WAAW,EAAC,aAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,eAeE;AACE,MAAA,OAAO,EAAEgB,CAAC,IAAI;AACZ,aAAKX,MAAL,CAAYY,KAAZ,GAAoB,IAApB;AACA,aAAKZ,MAAL,CAAYa,KAAZ;AACD,OAJH;AAKE,MAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWoB,SALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfF,eAyBE;AAAQ,MAAA,OAAO,EAAE,KAAKhB,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAzBF,EA2BG,CAAC,CAAC,KAAKJ,KAAL,CAAWG,QAAb,iBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKH,KAAL,CAAWG,QAAjB,CA3B5B,CADF;AA+BD;;AArDyB;;AAwD5BP,gBAAgB;AAChB,MAAMyB,WAAW,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAApB;AACA5B,QAAQ,CAACmB,MAAT,eAAgB,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAhB,EAAyBO,WAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { configureAmplify, SetS3Config } from \"./services\";\nimport Storage from \"@aws-amplify/storage\";\nimport \"./index.css\";\n\nclass App extends Component {\n  state = {\n    imageName: \"\",\n    imageFile: \"\",\n    response: \"\"\n  };\n\n  uploadImage = () => {\n    SetS3Config(\"validator-bucket-amplify\", \"protected\");\n    Storage.put(`userimages/${this.upload.files[0].name}`,\n                this.upload.files[0],\n                { contentType: this.upload.files[0].type })\n      .then(result => {\n        this.upload = null;\n        this.setState({ response: \"Success uploading file!\" });\n      })\n      //.catch(err => {\n      //  this.setState({ response: `Cannot uploading file: ${err}` });\n      //});\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h2>Upload Image to Validator-bucket-amplify S3 Bucket</h2>\n        <input\n          type=\"file\"\n          accept=\"image/png, image/jpeg\"\n          style={{ display: \"none\" }}\n          ref={ref => (this.upload = ref)}\n          onChange={e =>\n            this.setState({\n              imageFile: this.upload.files[0],\n              imageName: this.upload.files[0].name\n            })\n          }\n        />\n        <input value={this.state.imageName} placeholder=\"Select file\" />\n        <button\n          onClick={e => {\n            this.upload.value = null;\n            this.upload.click();\n          }}\n          loading={this.state.uploading}\n        >\n          Browse\n        </button>\n\n        <button onClick={this.uploadImage}> Upload File </button>\n\n        {!!this.state.response && <div>{this.state.response}</div>}\n      </div>\n    );\n  }\n}\n\nconfigureAmplify();\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);"]},"metadata":{},"sourceType":"module"}